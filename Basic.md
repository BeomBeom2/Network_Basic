# Network_Basic



# 방화벽(in/out 바운드)

방화벽은 **네트워크를 통과하는 통신을 허용/거부/검열/수정하는 모듈**이다. 방화벽은 물리적으로 네트워크를 연결하고 절단시키는 구조를 갖고있기 때문에 응용프로그램을 고칠 필요없이 쉽게 사용할 수있고, 네트워크에 흘러다니는 모든 패킷을 검사해여 해킹과 같은 외부침입을 근본적으로 막을 수 있다. 


## 인바운드 & 아웃바운드

|인바운드		|아웃바운드                         
|---						|---
|내부를 향한다		|외부를 향한다
|서버 내부로 들어오는 것  |서버 외부로 나가는 것   
|클라이언트가 업로드 할때 | 클라이언트가 다운로드 할 때
| 자신의 컴퓨터로 들어오기 시작하는 네트워크 데이터 | 자신의 컴퓨터에서 나가기 시작하는 네트워크 데이터

- 인바운드 트래픽: 클라이언트가 서버에게 request를 보내면서 시작되는 트래픽 
- 아웃바운드 트래픽: 서버가 클라이언트에게 먼저 요청을 보내면서 시작되는 트래픽

### 인/아웃 바운드 방화벽 설정
 1. win + R , firewall.cpl 열기
 2. 윈도우 ICMP 요청 전체 허용
	네트워크 통신체크가 안될경우 파일 및 프린터 공유(에코요청 - ICMPv4-in)을 선택후 규칙사용 클릭

> 특정 네트워크 사용자에게만 허용도 설정으로 가능

## ICMP
**인터넷 제어 메세지 프로토콜(Internet Control Message Protocol)**
OST7계층 중 3계층(Network Layer)의  IP 프로토콜은 전송상태에 대한 관리가 이루어지지 않는 신뢰할 수 없는 프로토콜이다. 이러한 IP 프로토콜의 단점을 보완하기 위한 프로토콜. **IP 패킷 전송 중 에러 발생 시 에러 발생 원인을 알려주거나 네트워크 상태를 진단**해주는 기능을 제공

ICMP 프로토콜 구조 <HR>

| Type(8bits)		|Code(8bits)		| Checksum(16bits)
|-							|-							|-	

|		Restof the of the header
|-

|		Data Section
|-

ICMP 메시지는 메시지의 유형을 의미하는 Type 필드와 유형별 세부내용을 담고있는 Code 필드로 구성된다.

**- Type**  : ICMP 메시지의 유형 / 용도  
ex) Type 3 : Destination Unreachable 목적지 도달 불가
**- Code**  : Type의 세부 내용으로 Type과 Code가 조합되어 ICMP 메시지의 목적과 용도를 나타낸다. (Code가 없는 Type도 존재)
ex) Type 3 Code 3 : Port Unreachable UDP 포트가 열려있지 않음
**- Checksum**  : ICMP 메시지 오류를 검사하기 위한 값
**- Rest of the header**  : Type 과 Code 에 따라 추가되는 헤더
**- Data section**  : 데이터가 위치하는 영역

#### TTL(Time To Live)
패킷이 라우터에서 폐기되기 전에 네트워크 내에 존재하도록 설정된 시간 또는 "홉(hop-소스와 목적지 간의 경로)"를 나타낸다.

**TTL의 작동**
&nbsp;패킷이 만들어지고 인터넷으로 전송되면 라우터에서 라우터로 계속 전달될 수 있다. 이런 가능성을 줄이기 위해 패킷은  Time-To-Live 또는 hop limit이라는 만료 시간으로 설계된다.
&nbsp;패킷 TTL은 패킷이 순환되는 시간을 결정하는 데 유용 할 수 있으며 보낸 사람이 인터넷을 통해 패킷의 경로에 대한 정보를 수신할 수 있게 한다. 
패킷에는 네트워크를 통해 이동 해야 하는 시간을 결정하는 숫자 값을 저장하는 장소가 있다. 라우터는 패킷을 수신 할 때마다 TTL 수에서 하나를 뺀 다음 네트워크의 다음 위치로 전달합니다. TTL의 카운터가 0이되면 라우터는 패킷을 버리고 ICMP 메시지 를 원래의 호스트로 되돌려 보냅니다 .
